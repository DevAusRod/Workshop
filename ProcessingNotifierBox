// Create the box element
const box = document.createElement('div');
box.style.position = 'fixed';
box.style.bottom = '10px';
box.style.left = '10px';
box.style.width = '50px';
box.style.height = '50px';
box.style.backgroundColor = 'blue';
box.style.color = 'white';
box.style.textAlign = 'center';
box.style.lineHeight = '50px';
box.style.cursor = 'pointer';
box.innerHTML = 'Status';

// Append the box to the document body
document.body.appendChild(box);

// Function to toggle box color
function toggleBoxColor() {
  box.style.backgroundColor = 'red';
}

// Create a MutationObserver to watch for changes in the style attribute of the body
const observer = new MutationObserver(function (mutations) {
  mutations.forEach(function (mutation) {
    const currentCursor = document.body.style.cursor;

    if (currentCursor === 'wait') {
      toggleBoxColor();
    }
  });
});

observer.observe(document.body, { attributes: true, attributeFilter: ['style'] });
